{
  "version": 3,
  "file": "ngrx-form.umd.js",
  "sources": [
    "ng://ngrx-form/out/module.ts",
    "ng://ngrx-form/out/directive.ts",
    "ng://ngrx-form/out/reducer.ts",
    "ng://ngrx-form/out/actions.ts"
  ],
  "sourcesContent": [
    "import { NgModule } from '@angular/core';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { StoreModule } from '@ngrx/store';\r\nimport { FormDirective } from './directive';\r\n\r\n@NgModule({\r\n  imports: [ReactiveFormsModule, StoreModule],\r\n  declarations: [FormDirective],\r\n  exports: [FormDirective]\r\n})\r\nexport class NgrxFormModule {}\r\n",
    "import { ChangeDetectorRef, Directive, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormGroupDirective } from '@angular/forms';\r\nimport { Store } from '@ngrx/store';\r\nimport { Subject } from 'rxjs';\r\nimport { debounceTime, takeUntil } from 'rxjs/operators';\r\nimport { UpdateForm, UpdateFormDirty, UpdateFormErrors, UpdateFormStatus, UpdateFormValue } from './actions';\r\n\r\nconst getValue = (obj, prop) => prop.split('.').reduce((acc, part) => acc && acc[part], obj);\r\n\r\n@Directive({ selector: '[ngrxForm]' })\r\nexport class FormDirective implements OnInit, OnDestroy {\r\n  @Input('ngrxForm')\r\n  path: string;\r\n  @Input('ngrxFormDebounce')\r\n  debounce = 100;\r\n  @Input('ngrxFormClearOnDestroy')\r\n  clearDestroy: boolean;\r\n\r\n  private _destroy$ = new Subject<null>();\r\n  private _updating = false;\r\n\r\n  constructor(\r\n    private _store: Store<any>,\r\n    private _formGroupDirective: FormGroupDirective,\r\n    private _cd: ChangeDetectorRef\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this._store\r\n      .select(state => getValue(state, `${this.path}.model`))\r\n      .pipe(takeUntil(this._destroy$))\r\n      .subscribe(model => {\r\n        if (!this._updating) {\r\n          this._updating = false;\r\n          if (model) {\r\n            this._formGroupDirective.form.patchValue(model);\r\n            this._cd.markForCheck();\r\n          }\r\n        }\r\n      });\r\n\r\n    this._store\r\n      .select(state => getValue(state, `${this.path}.dirty`))\r\n      .pipe(takeUntil(this._destroy$))\r\n      .subscribe(dirty => {\r\n        if (this._formGroupDirective.form.dirty !== dirty) {\r\n          if (dirty === true) {\r\n            this._formGroupDirective.form.markAsDirty();\r\n            this._cd.markForCheck();\r\n          } else if (dirty === false) {\r\n            this._formGroupDirective.form.markAsPristine();\r\n            this._cd.markForCheck();\r\n          }\r\n        }\r\n      });\r\n\r\n    this._store\r\n      .select(state => getValue(state, `${this.path}.disabled`))\r\n      .pipe(takeUntil(this._destroy$))\r\n      .subscribe(disabled => {\r\n        if (this._formGroupDirective.form.disabled !== disabled) {\r\n          if (disabled === true) {\r\n            this._formGroupDirective.form.disable();\r\n            this._cd.markForCheck();\r\n          } else if (disabled === false) {\r\n            this._formGroupDirective.form.enable();\r\n            this._cd.markForCheck();\r\n          }\r\n        }\r\n      });\r\n\r\n    this._formGroupDirective.valueChanges\r\n      .pipe(\r\n        debounceTime(this.debounce),\r\n        takeUntil(this._destroy$)\r\n      )\r\n      .subscribe(value => {\r\n        this._updating = true;\r\n        this._store.dispatch(\r\n          new UpdateFormValue({\r\n            path: this.path,\r\n            value\r\n          })\r\n        );\r\n\r\n        this._store.dispatch(\r\n          new UpdateFormDirty({\r\n            path: this.path,\r\n            dirty: this._formGroupDirective.dirty\r\n          })\r\n        );\r\n\r\n        this._store.dispatch(\r\n          new UpdateFormErrors({\r\n            path: this.path,\r\n            errors: this._formGroupDirective.errors\r\n          })\r\n        );\r\n      });\r\n\r\n    this._formGroupDirective.statusChanges\r\n      .pipe(\r\n        debounceTime(this.debounce),\r\n        takeUntil(this._destroy$)\r\n      )\r\n      .subscribe(status => {\r\n        this._store.dispatch(\r\n          new UpdateFormStatus({\r\n            path: this.path,\r\n            status\r\n          })\r\n        );\r\n      });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._destroy$.next();\r\n    this._destroy$.complete();\r\n\r\n    if (this.clearDestroy) {\r\n      this._store.dispatch(\r\n        new UpdateForm({\r\n          path: this.path,\r\n          value: null,\r\n          dirty: null,\r\n          status: null,\r\n          errors: null\r\n        })\r\n      );\r\n    }\r\n  }\r\n}\r\n",
    "import { FormActions } from './actions';\r\n\r\nexport interface FormState<T> {\r\n  model: T;\r\n  modelId?: string;\r\n  errors?: { [k: string]: string };\r\n  dirty?: boolean;\r\n  status?: string;\r\n}\r\n\r\nconst setValue = (obj, prop, val) => {\r\n  obj = { ...obj };\r\n  const split = prop.split('.');\r\n  const last = split[split.length - 1];\r\n  split.reduce((acc, part) => {\r\n    if (part === last) {\r\n      acc[part] = val;\r\n    } else {\r\n      acc[part] = { ...acc[part] };\r\n    }\r\n    return acc && acc[part];\r\n  }, obj);\r\n  return obj;\r\n};\r\n\r\nexport function form(reducer: Function) {\r\n  return function(state: any, action: any) {\r\n    let nextState = reducer(state, action);\r\n\r\n    if (action.type === FormActions.UpdateValue || action.type === FormActions.UpdateForm) {\r\n      nextState = setValue(nextState, `${action.payload.path}.model`, { ...action.payload.value });\r\n    }\r\n\r\n    if (action.type === FormActions.UpdateStatus || action.type === FormActions.UpdateForm) {\r\n      nextState = setValue(nextState, `${action.payload.path}.status`, action.payload.status);\r\n    }\r\n\r\n    if (action.type === FormActions.UpdateErrors || action.type === FormActions.UpdateForm) {\r\n      nextState = setValue(nextState, `${action.payload.path}.errors`, { ...action.payload.errors });\r\n    }\r\n\r\n    if (action.type === FormActions.UpdateDirty || action.type === FormActions.UpdateForm) {\r\n      nextState = setValue(nextState, `${action.payload.path}.dirty`, action.payload.dirty);\r\n    }\r\n\r\n    if (action.type === FormActions.SetDirty) {\r\n      nextState = setValue(nextState, `${action.payload}.dirty`, true);\r\n    }\r\n\r\n    if (action.type === FormActions.SetPrestine) {\r\n      nextState = setValue(nextState, `${action.payload}.dirty`, false);\r\n    }\r\n\r\n    if (action.type === FormActions.SetDisabled) {\r\n      nextState = setValue(nextState, `${action.payload}.disabled`, true);\r\n    }\r\n\r\n    if (action.type === FormActions.SetEnabled) {\r\n      nextState = setValue(nextState, `${action.payload}.disabled`, false);\r\n    }\r\n\r\n    return nextState;\r\n  };\r\n}\r\n",
    "import { Action } from '@ngrx/store';\r\n\r\nexport enum FormActions {\r\n  UpdateStatus = '[Form] Update Status',\r\n  UpdateValue = '[Form] Update Value',\r\n  UpdateDirty = '[Form] Update Dirty',\r\n  SetDirty = '[Form] Set Dirty',\r\n  SetPrestine = '[Form] Set Prestine',\r\n  UpdateErrors = '[Form] Update Errors',\r\n  SetDisabled = '[Form] Disable Form',\r\n  SetEnabled = '[Form] Enable Form',\r\n  UpdateForm = '[Form] Update Form'\r\n}\r\n\r\nexport class UpdateFormStatus implements Action {\r\n  readonly type = FormActions.UpdateStatus;\r\n  constructor(public payload: { status: string | null; path: string }) {}\r\n}\r\n\r\nexport class UpdateFormValue implements Action {\r\n  readonly type = FormActions.UpdateValue;\r\n  constructor(public payload: { value: any; path: string }) {}\r\n}\r\n\r\nexport class UpdateForm implements Action {\r\n  readonly type = FormActions.UpdateForm;\r\n  constructor(\r\n    public payload: {\r\n      value: any;\r\n      errors: { [k: string]: string } | null;\r\n      dirty: boolean | null;\r\n      status: string | null;\r\n      path: string;\r\n    }\r\n  ) {}\r\n}\r\n\r\nexport class UpdateFormDirty implements Action {\r\n  readonly type = FormActions.UpdateDirty;\r\n  constructor(public payload: { dirty: boolean | null; path: string }) {}\r\n}\r\n\r\nexport class SetFormDirty implements Action {\r\n  readonly type = FormActions.SetDirty;\r\n  constructor(public payload: string) {}\r\n}\r\n\r\nexport class SetFormPristine implements Action {\r\n  readonly type = FormActions.SetPrestine;\r\n  constructor(public payload: string) {}\r\n}\r\n\r\nexport class UpdateFormErrors implements Action {\r\n  readonly type = FormActions.UpdateErrors;\r\n  constructor(public payload: { errors: { [k: string]: string } | null; path: string }) {}\r\n}\r\n\r\nexport class SetFormDisabled implements Action {\r\n  readonly type = FormActions.SetDisabled;\r\n  constructor(public payload: string) {}\r\n}\r\n\r\nexport class SetFormEnabled implements Action {\r\n  readonly type = FormActions.SetEnabled;\r\n  constructor(public payload: string) {}\r\n}\r\n"
  ],
  "names": [
    "ReactiveFormsModule",
    "StoreModule",
    "NgModule",
    "Input",
    "ChangeDetectorRef",
    "FormGroupDirective",
    "Store",
    "Directive",
    "debounceTime",
    "takeUntil",
    "Subject"
  ],
  "mappings": "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"
}
